{
  environment: 'dev',
  
  //environment-specific configs, extend base config
  environments: {
    production: {
      build: true,
      rebuild: true,
      page: {
        layers: ['zest/build-layer'] //build layers to use in production
      }
    },
    dev: {
      fileExpires: 0,
      
      debugInfo: true,
      logRender: true,
      renderDelay: 0,
      staticLatency: 0
    }
  },
  
  /* File Server */
  debugInfo: false,
  serveFiles: true,
  fileExpires: 500,
  
  /* Page Load Testing */
  renderDelay: 0,
  staticLatency: 0,

  typeAttribute: 'component', //attribute to use for the component type
  
  /* Application Server */
  modules: [],
  
  /* Require Config */
  //appDir: process.cwd(),
  publicDir: 'www',
  publicBuildDir: 'www-built',
  baseDir: 'lib',
  

  /* Browser module stubs */
  browserModules: ['selector', 'jquery'],

  /* base build layer */
  zestLayer: {
    include: ['lib/require.js', 'require-inline', 'zest/attach', 'zest/attachment!', 'zest/zest', 'css'],
    excludeShallow: ['require-css/css-builder', 'require-less/lessc'],
    exclude: ['zest/attachment', 'coffee-script']
  },
  zestExcludes: {
    include: ['require-css/css-builder', 'require-less/lessc', 'coffee-script', 'cs', 'require-less/less', 'zest/attachment'],
    excludeShallow: ['require-css/normalize'],
    exclude: []
  },

  require: {
    config: {
      'require-is/is': {
      }
    },
    paths: {
    },
    map: {
      '*': {
        is: 'require-is/is',
        css: 'require-css/css',
        less: 'require-less/less',
        http: 'rest/http'
      }
    },

    //server require config
    server: {
      // base url is publicDir/baseUrl
      context: 'shared',
      paths: {
        //'$zest-server': __dirname,
        //'$': process.cwd()
      },
      config: {
        'require-is/is': {
        }
      }
    },
  
    //client require config
    client: {
      // base url is baseUrl from base config
      config: {
        'zest/zest-render': {
          defineGlobal: true
        }
      }
    },
  
    //build require config
    //when we do a build, zest core is dropped into the zest/build-layer file
    build: {
      map: {
        '*': {
          '$attach': 'zest/attachment'
        }
      },
      paths: {},
      keepBuildDir: true, //keep build dir during runs to save reprocessing
      stubModules: [],
      // baseUrl is ., appDir is publicDir/libDir/, dir is publicDir/libBuildDir/
      //set automatically. name, out ignored.
      modules: [
      ]
    }
  }
}
