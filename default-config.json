{
  environment: 'dev',
  
  //environment-specific configs, extend base config
  environments: {
    production: {
      build: true,
      rebuild: true,
      page: {
        layers: ['zest/build-layer'] //build layers to use in production
      }
    },
    dev: {
      fileExpires: 0,
      
      debugInfo: true,
      logRender: true,
      renderDelay: 0,
      staticLatency: 0
    }
  },
  
  /* Attachment */
  explicitAttachment: false, //show attachment object in html
  dynamicAttachment: false, //when outside a build, generate the attach! variant client-side
  
  /* File Server */
  serveFiles: true,
  fileExpires: 500,
  
  /* https and spdy support */
  https: {
    enable: false,
    key: ''
  },
  spdy: false,
  
  /* offline support */
  offline: true,
  iframeManifest: {
    
  },
  
  /* Page Load Testing */
  renderDelay: 0,
  staticLatency: 0,
  debugInfo: false,
  
  /* Page Rendering */
  // structure to render the html page with (html template effectively)
  pageTemplate: 'cs!$zest-server/html',
  // default page render options
  pageOptions: {
    //page options, structure and options are body structure, as set by route
    id: null,
    title: '',
    scripts: [], //blocking scripts
    layers: [], //layers to include in the current page. Used for builds to load a layer instead of the file.
    requireMain: '',
    //requireConfig: zest.config.client,
    options: {},
    global: {}, //default global options
    
    typeAttribute: 'component' //attribute to use for the component type
  },
  
  /* Application Server */
  modules: [],
  
  /* Require Config */
  //appDir: process.cwd(),
  publicDir: 'www',
  publicBuildDir: 'www-built',
  baseDir: 'lib',
  
  require: {
    config: {
      'require-is/is': {
      }
    },
    paths: {
    },
    map: {
      '*': {
        is: 'require-is/is',
        css: 'require-css/css',
        less: 'require-less/less',
        http: 'rest/http'
      }
    },
  
    //server require config
    server: {
      // base url is publicDir/baseUrl
      context: 'shared',
      paths: {
        //'$zest-server': __dirname,
        //'$': process.cwd()
      },
      map: {
        '*': {
          selector: 'empty',
          jquery: 'empty'
        }
      },
      config: {
        'require-is/is': {
        }
      }
    },
  
    //client require config
    client: {
      // base url is baseUrl from base config
      config: {
        'zest/zest-render': {
          defineGlobal: true
        }
      }
    },
  
    //build require config
    //when we do a build, zest core is dropped into the zest/build-layer file
    build: {
      map: {
        '*': {
          '$attach': 'zest/attachment'
        }
      },
      paths: {},
      keepBuildDir: true, //keep build dir during runs to save reprocessing
      stubModules: [],
      zestLayer: {
        include: ['lib/require.js', 'require-inline', 'zest/attach', 'zest/attachment!', 'zest/zest', 'css'],
        excludeShallow: ['require-css/css-builder', 'require-less/lessc'],
        exclude: ['zest/attachment', 'coffee-script']
      },
      zestExcludes: {
        include: ['require-css/css-builder', 'require-less/lessc', 'coffee-script', 'cs', 'require-less/less', 'zest/attachment'],
        excludeShallow: ['require-css/normalize'],
        exclude: []
      },
      // baseUrl is ., appDir is publicDir/libDir/, dir is publicDir/libBuildDir/
      //set automatically. name, out ignored.
      modules: [
      ]
    }
  }
}
